<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-dev docs-version-current docs-doc-page docs-doc-id-transmuter/transmuter-contract" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">transmuter-contract | Alchemix Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://keenanlukeom.github.io/alchemix-v3-docs/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://keenanlukeom.github.io/alchemix-v3-docs/img/social-card.png"><meta data-rh="true" property="og:url" content="https://keenanlukeom.github.io/alchemix-v3-docs/dev/transmuter/transmuter-contract"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-dev-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-dev-current"><meta data-rh="true" property="og:title" content="transmuter-contract | Alchemix Docs"><meta data-rh="true" name="description" content="The Transmuter is a contract that allows redemption of synthetic debt assets created by associated AlchemistV3 contracts for the underlying assets that back them at a 1 to 1 ratio. Deposits of synthetic debt assets into the Transmuter create demand for underlying assets from AlchemistV3 instances, which are obligated to service that demand across a pre-set time period. This creates fixed-duration fixed-rate terms. Each Transmuter takes one synthetic debt asset (alAsset) and can be associated with multiple AlchemistV3 instances, however only one AlchemistV3 instance is used for redemptions."><meta data-rh="true" property="og:description" content="The Transmuter is a contract that allows redemption of synthetic debt assets created by associated AlchemistV3 contracts for the underlying assets that back them at a 1 to 1 ratio. Deposits of synthetic debt assets into the Transmuter create demand for underlying assets from AlchemistV3 instances, which are obligated to service that demand across a pre-set time period. This creates fixed-duration fixed-rate terms. Each Transmuter takes one synthetic debt asset (alAsset) and can be associated with multiple AlchemistV3 instances, however only one AlchemistV3 instance is used for redemptions."><link data-rh="true" rel="icon" href="/alchemix-v3-docs/img/favicon.png"><link data-rh="true" rel="canonical" href="https://keenanlukeom.github.io/alchemix-v3-docs/dev/transmuter/transmuter-contract"><link data-rh="true" rel="alternate" href="https://keenanlukeom.github.io/alchemix-v3-docs/dev/transmuter/transmuter-contract" hreflang="en"><link data-rh="true" rel="alternate" href="https://keenanlukeom.github.io/alchemix-v3-docs/dev/transmuter/transmuter-contract" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Transmuter","item":"https://keenanlukeom.github.io/alchemix-v3-docs/dev/transmuter/transmuter-contract"}]}</script><link rel="stylesheet" href="/alchemix-v3-docs/assets/css/styles.0d3abff3.css">
<script src="/alchemix-v3-docs/assets/js/runtime~main.af4348b8.js" defer="defer"></script>
<script src="/alchemix-v3-docs/assets/js/main.80564c71.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/alchemix-v3-docs/img/alchemix-full.svg"><link rel="preload" as="image" href="/alchemix-v3-docs/assets/images/transmuter-01-9a44deb159811dc489fc93b8399cf8a8.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#FFF4E5;color:#3D2C00" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ðŸš§ <strong>Public BETA:</strong> These docs are in active development. Expect gaps and changes. <a href="https://discord.gg/E9eGjttFCB">Get support</a> Â· <a href="https://github.com/KeenanLukeOM/alchemix-v3-docs/issues/new">Report an issue</a></div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/alchemix-v3-docs/user/"><div class="navbar__logo"><img src="/alchemix-v3-docs/img/alchemix-full.svg" alt="Alchemix Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/alchemix-v3-docs/img/alchemix-full.svg" alt="Alchemix Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/alchemix-v3-docs/user/">Users</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/alchemix-v3-docs/dev/">Developers</a><a class="navbar__item navbar__link" href="/alchemix-v3-docs/governance/intro">Governance</a><a class="navbar__item navbar__link" href="/alchemix-v3-docs/projects/">Integrations</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/KeenanLukeOM/alchemix-v3-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/alchemix-v3-docs/dev/">Developer Docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebarBold"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/alchemix-v3-docs/dev/alchemist/alchemist-contract">Core Modules</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/alchemix-v3-docs/dev/alchemist/alchemist-contract">AlchemistV3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/alchemix-v3-docs/dev/transmuter/transmuter-contract">Transmuter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/alchemix-v3-docs/dev/myt/myt-contract">MYTStrategy</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="row_Wiq0"><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/alchemix-v3-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Modules</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Transmuter</span></li></ul></nav></div><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><img src="/alchemix-v3-docs/assets/images/transmuter-01-9a44deb159811dc489fc93b8399cf8a8.png" alt="Transmuter" class="banner-spacing">
<p>The Transmuter is a contract that allows redemption of synthetic debt assets created by associated AlchemistV3 contracts for the underlying assets that back them at a 1 to 1 ratio. Deposits of synthetic debt assets into the Transmuter create demand for underlying assets from AlchemistV3 instances, which are obligated to service that demand across a pre-set time period. This creates fixed-duration fixed-rate terms. Each Transmuter takes one synthetic debt asset (alAsset) and can be associated with multiple AlchemistV3 instances, however only one AlchemistV3 instance is used for redemptions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Direct link to Variables" title="Direct link to Variables">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stakingposition">StakingPosition<a href="#stakingposition" class="hash-link" aria-label="Direct link to StakingPosition" title="Direct link to StakingPosition">â€‹</a></h3>
<blockquote>
<p>A struct that describes a tranche of deposited synthetic debt assets which have an eventual claim to underlying.</p>
</blockquote>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>amount</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - The amount of debt tokens deposited and staked.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong> * <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>startBlock</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Block when the position was opened</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>maturationBlock</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Block at which the transmutation will be complete/claimable</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transmuterinititializationparams">TransmuterInititializationParams<a href="#transmuterinititializationparams" class="hash-link" aria-label="Direct link to TransmuterInititializationParams" title="Direct link to TransmuterInititializationParams">â€‹</a></h3>
<blockquote>
<p>State set by params at creation-time of the transmuter to initially configure it.</p>
</blockquote>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>syntheticToken</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the contract of the synthetic asset which will be accepted in staking positions</li>
<li><strong>Type</strong> - address</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong> - <code>syntheticToken()</code></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>timeToTransmute</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the time in blocks that it will take to transmuter new staking positions</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>timeToTransmute()</code></li>
</ul>
</li>
<li><strong>Nofified By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_TransmutationTimeUpdated"><code>TransmutationTimeUpdated()</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>transmutationFee</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the fee percentage on transmutation claims. Expressed in BPS.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>claimRedemption(uint256 syntheticDepositAmount)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#AdminActions_setTransmutationFee"><code>setTransmutationFee(uint256)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>transmutationFee()</code></li>
</ul>
</li>
<li><strong>Nofified By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_TransmutationFeeUpdated"><code>TransmutationFeeUpdated()</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>exitFee</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the fee percentage on transmuter claims for early exits. Expressed in BPS.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>claimRedemption(uint256 syntheticDepositAmount)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#AdminActions_setExitFee"><code>setExitFee(uint256)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>exitFee()</code></li>
</ul>
</li>
<li><strong>Nofified By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_ExitFeeUpdated"><code>ExitFeeUpdated()</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>protocolFeeReceiver</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the contract of the synthetic asset which will be accepted in staking positions</li>
<li><strong>Type</strong> - address</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#AdminActions_setProtocolFeeReceiver"><code>setProtocolFeeReceiver(address receiver)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>protocolFeeReceiver()</code></li>
</ul>
</li>
<li><strong>Nofified By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_ProtocolFeeReceiverUpdated"><code>ProtocolFeeReceiverUpdated()</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>admin</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the contract of the synthetic asset which will be accepted in staking positions</li>
<li><strong>Type</strong> - address</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#AdminActions_setProtocolFeeReceiver"><code>setProtocolFeeReceiver(address receiver)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>protocolFeeReceiver()</code></li>
</ul>
</li>
<li><strong>Nofified By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_ProtocolFeeReceiverUpdated"><code>ProtocolFeeReceiverUpdated()</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>graphSize</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - the size in blocks of the transmuter staking graph. Used to optimize the amount of reads and writes made to the graph and can be extended over time.</li>
<li><strong>Type</strong> - address</li>
<li><strong>Used By</strong>
<ul>
<li>TODO - doesn&#x27;t seem to be used anywhere</li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li>TODO - doesn&#x27;t seem to be used anywhere</li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>graphSize()</code></li>
</ul>
</li>
<li><strong>Nofified By</strong> - <a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_GraphSizeUpdated"><code>GraphSizeUpdated()</code></a></li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="constants">Constants<a href="#constants" class="hash-link" aria-label="Direct link to Constants" title="Direct link to Constants">â€‹</a></h3>
<blockquote>
<p>Immutable variables used as helpers or for informational purposes.</p>
</blockquote>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>BPS</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Constant equaling 10_000. Used for any explicit decimal representation. Treats 100% as 10,000; meaning 10% would be expressed as 1000 BPS.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#AdminActions_setTransmutationFee"><code>setTransmutationFee(uint256)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#AdminActions_setExitFee"><code>setExitFee(uint256)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong> - NONE - immutable variable</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>FIXED_POINT_SCALAR</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - A multiplier that is used to be able to do fixed point math, since solidity does not natively handle decimals. Like ERC20 tokens which typically use 18 decimals, it expresses 1 as 1e18. Anything less is a fraction of 1.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong> - NONE - immutable variable</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>BLOCK_SCALING_FACTOR</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - A constant set to 1e18. Used as a fixed-point scaling factor when dividing token amounts by block counts, allowing precise ratios to be stored in the staking graph.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong> - NONE - immutable variable</li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>version</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Constant expressing Alchemix version. Not used for anything in the contract.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Updated By</strong>
<ul>
<li>NONE - immutable variable</li>
</ul>
</li>
<li><strong>Read By</strong> - <code>version()</code></li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="public-state">Public State<a href="#public-state" class="hash-link" aria-label="Direct link to Public State" title="Direct link to Public State">â€‹</a></h3>
<blockquote>
<p>State that is available and can be read from outside of the contract.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="uint256">Uint256<a href="#uint256" class="hash-link" aria-label="Direct link to Uint256" title="Direct link to Uint256">â€‹</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>depositCap</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - The max number of debt tokens that can be deposited and staked</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#AdminActions_setDepositCap"><code>setDepositCap(uint256 cap)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>depositCap()</code></li>
</ul>
</li>
<li><strong>Notified By</strong> - <a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#Events_DepositCapUpdated"><code>DepositCapUpdated(uint256 cap)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>totalLocked</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - The fee in BPS for exiting a transmuter staking position early/</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong> - <code>totalLocked()</code></li>
</ul></div></div></details>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="addresses">Addresses<a href="#addresses" class="hash-link" aria-label="Direct link to Addresses" title="Direct link to Addresses">â€‹</a></h4>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>pendingAdmin</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - The address of the pending admin. Part of a two step process where the admin sets a new pendingAdmin, and the pendingAdmin must then accept the role to transition to the actual admin.</li>
<li><strong>Type</strong> - address</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_acceptAdmin"><code>acceptAdmin()</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#AdminActions_setPendingAdmin"><code>setPendingAdmin(uint256 cap)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>pendingAdmin()</code></li>
</ul>
</li>
<li><strong>Notified By</strong> - <a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#Events_PendingAdminUpdated"><code>PendingAdminUpdated(address value)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>alchemist</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - The address of the alchemist instance used for redemptions.</li>
<li><strong>Type</strong> - address</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#AdminActions_setAlchemist"><code>setAlchemist(uint256 cap)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong>
<ul>
<li><code>alchemist()</code></li>
</ul>
</li>
<li><strong>Notified By</strong> - <a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#Events_DepositCapUpdated"><code>AlchemistUpdated(uint256 cap)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>alchemists</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - An array of alchemists associated with this Transmuter.</li>
<li><strong>Type</strong> - address[]</li>
<li><strong>Used By</strong>
<ul>
<li>TODO - not used anywhere?</li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li>TODO - not updated anywhere</li>
</ul>
</li>
<li><strong>Read By</strong> - <code>alchemists()</code></li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="private-state">Private State<a href="#private-state" class="hash-link" aria-label="Direct link to Private State" title="Direct link to Private State">â€‹</a></h3>
<blockquote>
<p>Internal state of the contract. In most cases cannot be read from outside of the contract. In some cases certain aspects can be read using specific functions. (See ReadingState)</p>
</blockquote>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>_positions</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - A mapping of IDs to StakingPositions. Used to track individual staking positions.</li>
<li><strong>Type</strong> - mapping(uint256 =&gt; StakingPosition)</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#ReadingState_getPosition"><code>getPosition(uint256 id)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong> - <a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#Events_DepositCapUpdated"><code>getPosition(uint256 cap)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>_stakingGraph</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - A graph of transmuter staking positions. Stored as a double fenwick tree. The Graph data type is composed of a uint256 size, depicting the size of the tree as a power of two, and a state index g. (TODO is this right? Learn more and correct)</li>
<li><strong>Type</strong> - StakingGraph.Graph</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#ReadingState_getPosition"><code>getPosition(uint256 id)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong> - <a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#Events_DepositCapUpdated"><code>getPosition(uint256 cap)</code></a></li>
</ul></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>_nonce</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - An incrimeneting counter used for minting of new Transmuter NFT positions so that each has it&#x27;s own unique id.</li>
<li><strong>Type</strong> - uint256</li>
<li><strong>Used By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#ReadingState_getPosition"><code>getPosition(uint256 id)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>_mint(address sender, uint256 nonce)</code></a></li>
</ul>
</li>
<li><strong>Updated By</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_createRedemption"><code>createRedemption(uint256 syntheticDepositAmount)</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#UserActions_claimRedemption"><code>claimRedemption(uint256 id)</code></a></li>
</ul>
</li>
<li><strong>Read By</strong> - <a href="/alchemix-v3-docs/dev/alchemist/alchemist-contract#Events_DepositCapUpdated"><code>getPosition(uint256 cap)</code></a></li>
</ul></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-actions">User Actions<a href="#user-actions" class="hash-link" aria-label="Direct link to User Actions" title="Direct link to User Actions">â€‹</a></h3>
<blockquote>
<p>Functions that can be called by external accounts which influence the state or balance of the Transmuter.</p>
</blockquote>
<details id="UserActions_createRedemption" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>createRedemption(uint256 syntheticDepositAmount)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Creates a time-locked redemption staked position that linearly vests over <code>timeToTransmute</code> blocks.<br><br>
Validates the deposit amount and capacity against both <code>depositCap</code> and <code>alchemist.totalSyntheticsIssued()</code>. Transfers the <code>syntheticDepositAmount</code> of alAsset from the function caller. Records a new <code>StakingPosition</code> to Transmuter from <code>block.number</code> to <code>block.number + timeToTransmute</code>. Updates the staking graph with the per-block redemption rate contributed by this position, adding it to the existing global rate so that redemptions for all positions can be served correctly. Mints a new position token and updates <code>totalLocked</code>.<br><br>
<ul>
<li><code>@param syntheticDepositAmount</code> - amount of <code>syntheticToken</code> deposited in this staking position, to be locked until transmutation is finished or early exit is executed.</li>
</ul>
</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><code>PositionCreated(address owner, uint256 amount, uint256 tokenId)</code></li>
</ul>
</li>
<li><strong>Reverts</strong> - <code>DepositZeroAmount()</code> - if <code>syntheticDepositAmount == 0</code> - <code>DepositCapReached()</code> - if <code>totalLocked + syntheticDepositAmount</code> exceeds <code>depositCap</code> or <code>alchemist.totalSyntheticsIssued()</code>. In the latter case there must be enough debt in the system to be able to service redemptions, and this check ensures that more deposits are not accepted than there is debt for service them.</li>
</ul></div></div></details>
<details id="UserActions_claimRedemption" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>claimRedemption(uint256 id)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Settles and closes the redemption for the staked position identified by id, paying out the vested portion in yield tokens and returning any unvested synthetics minus fees applied.<br><br>
Validates the position exists and is not being claimed in its creation block. Computes the vested vs. unvested split using block-based linear vesting. Verifies ownership and burns the position token. Calculates bad debt from Alchemist state and scales down vested payout if necessary. First uses yield from prior repayments to reduce redemptions, then redeems the rest from the Alchemist. (calls <code>alchemist.redeem()</code>) Applies the transmutation fee to &quot;transmuted&quot; or vested debt, and an exit fee to synthetics returned (unvested debt). If the staked position was not fully transmuted (vested) then the staking graph is updated to to remove the remaining per block rate. Transfers yield and synthetic payouts/fees, burns the transmuted synthetics, reduces <code>totalSyntheticsIssued</code>, (calls <code>alchemist.reduceSyntheticsIssued()</code>) decrements <code>totalLocked</code>, and deletes the position. Informs the alchemist of it&#x27;s yieldToken quantity. (calls <code>alchemist.setTrasnmuterTokenBalance()</code>)<br><br>
<ul>
<li><code>@param id</code> - the id of the staked position to claim and close</li>
</ul>
</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><code>PositionClaimed(address owner, uint256 claimDebt, uint256 syntheticReturned)</code></li>
</ul>
</li>
<li><strong>Reverts</strong> - <code>PositionNotFound()</code> - if no position for <code>id</code> - <code>PrematureClaim()</code> - if claiming in the same block the position was opened - <code>CallerNotOwner()</code> - if the message sender does not own the position</li>
</ul></div></div></details>
<details id="UserActions_acceptAdmin" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>acceptAdmin()</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Can only be called by the current pendingAdmin. Used to accept the admin role.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_PendingAdminUpdated"><code>PendingAdminUpdated(address(0))</code></a></li>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_AdminUpdated"><code>AdminUpdated(address value)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - <strong>Unauthorized()</strong></li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="admin-actions">Admin Actions<a href="#admin-actions" class="hash-link" aria-label="Direct link to Admin Actions" title="Direct link to Admin Actions">â€‹</a></h3>
<blockquote>
<p>Functions guarded by the onlyAdmin modifier.</p>
</blockquote>
<details id="AdminActions_setPendingAdmin" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setPendingAdmin(address value)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the pending admin. First part of a two-step process to change the admin. The second step is the pendingAdmin accepting the role by calling acceptAdmin.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_PendingAdminUpdated"><code>PendingAdminUpdated(address value)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<details id="AdminActions_setAlchemist" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setAlchemist(address value)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the address of the AlchemistV3 contract that will be used to redeem against for this Transmuter.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_AlchemistUpdated"><code>AlchemistUpdated(address value)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<details id="AdminActions_setDepositCap" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setDepositCap(uint256 cap)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the deposit cap variable, or maximum amount of synthetics that can be staked in the transmuter at any one time.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_DepositCapUpdated"><code>DepositCapUpdated(address value)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - If the cap is greater than or equal to the max value of uint256.</li>
</ul></div></div></details>
<details id="AdminActions_setTransmutationFee" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setTransmutationFee(uint256 fee)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the fee as a percentage in BPS for transmutation.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_TransmutationFeeUpdated"><code>TransmutationFeeUpdated(uint256 fee)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - If the fee is greater than or equal to the max of BPS (&gt;= 100%)</li>
</ul></div></div></details>
<details id="AdminActions_setExitFee" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setExitFee(uint256 fee)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the fee as a percentage in BPS for early exits from positions staked for transmutation.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_ExitFeeUpdated"><code>ExitFeeUpdated(uint256 fee)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - If the fee is greater than or equal to the max of BPS (&gt;= 100%)</li>
</ul></div></div></details>
<details id="AdminActions_setTransmutationTime" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setTransmutationTime(uint256 time)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the duration of time it takes for new staked positions of synthetic assets to be transmuted in blocks.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_TransmutationTimeUpdated"><code>TransmutationTimeUpdated(uint256 fee)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<details id="AdminActions_setProtocolFeeReceiver" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>setProtocolFeeReceiver(address value)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Sets the address that wil recieve fees from the Transmuter.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong>
<ul>
<li><a href="/alchemix-v3-docs/dev/transmuter/transmuter-contract#Events_Events_ProtocolFeeReceiverUpdated"><code>ProtocolFeeReceiverUpdated(address value)</code></a></li>
</ul>
</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-operations">Internal Operations<a href="#internal-operations" class="hash-link" aria-label="Direct link to Internal Operations" title="Direct link to Internal Operations">â€‹</a></h3>
<blockquote>
<p>Functions that are cannot be called by other contracts or EOAs. Used only as helpers for performing internal logic.</p>
</blockquote>
<details id="InternalOperations_updateStakingGraph" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>_updateStakingGraph(int256 amount, uint256 blocks)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Updates the staking graph with a new redemption schedule starting at the current block.<br><br>
Delegates to <code>_stakingGraph.addStake(amount, block.number, blocks)</code>. Positive <code>amount</code> values add per-block redemption weight, negative values remove it. The change applies for the amount of passed in blocks.<br><br>
<ul>
<li><code>@param amount</code> - scaled redemption amount to apply (scaled by <code>BLOCK_SCALING_FACTOR</code>)</li>
<li><code>@param blocks</code> - number of blocks over which the amount should apply</li>
</ul>
</li>
<li><strong>Visibility Specifier</strong> - private</li>
<li><strong>State Mutability Specifier</strong> - nonpayable</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong> - none</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<details id="InternalOperations_checkArgument" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>_checkArgument(bool expression)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Validates a boolean condition intended to check arguments.<!-- -->
<ul>
<li><code>@param expression</code> - the boolean expression to validate</li>
</ul>
</li>
<li><strong>Visibility Specifier</strong> - internal</li>
<li><strong>State Mutability Specifier</strong> - pure</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong> - none</li>
<li><strong>Reverts</strong> - <code>IllegalArgument()</code> - if the expression evaluates to false</li>
</ul></div></div></details>
<details id="InternalOperations_checkState" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>_checkState(bool expression)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Validates a boolean condition intended to check state.<!-- -->
<ul>
<li><code>@param expression</code> - the boolean expression to validate</li>
</ul>
</li>
<li><strong>Visibility Specifier</strong> - internal</li>
<li><strong>State Mutability Specifier</strong> - pure</li>
<li><strong>Returns</strong> - none</li>
<li><strong>Emits</strong> - none</li>
<li><strong>Reverts</strong> - <code>IllegalState()</code> if the expression evaluates to false</li>
</ul></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-state">Reading State<a href="#reading-state" class="hash-link" aria-label="Direct link to Reading State" title="Direct link to Reading State">â€‹</a></h3>
<blockquote>
<p>Reads derived, calculated, or internal state. For getters of public variables see the Variable section.</p>
</blockquote>
<details id="ReadingState_tokenUri" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>tokenUri(uint256 id)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Gets the token URI for a Transmuter NFT token with a specfic id.</li>
<li><strong>Visibility Specifier</strong> - public</li>
<li><strong>State Mutability Specifier</strong> - view</li>
<li><strong>Returns</strong> - string memory - the URI of the Transmuter NFT with the passed ID</li>
<li><strong>Emits</strong> - none</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<details id="ReadingState_getPosition" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>getPosition(uint256 id)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Gets the StakingPosition identified by id.</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - view</li>
<li><strong>Returns</strong> - StakingPosition memory</li>
<li><strong>Emits</strong> - none</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<details id="ReadingState_queryGraph" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>queryGraph(uint256 startBlock, uint256 endBlock)</summary><div><div class="collapsibleContent_i85q"><ul>
<li><strong>Description</strong> - Allows callers to see how much is scheduled to be redeemed between two blocks numbers.<br><br>
Queries the staking graph to calculate the total redemption amount that is scheduled to be applied for all staked positions between two block numbers by delegating to <code>_stakingGraph.queryStake(startBlock, endBlock)</code>. If the query does not find an amount for that block span then it returns 0. Otherwise, it divides the queried amount to be redeemed (stored as a scaled uint256) by <code>BLOCK_SCALING_FACTOR</code> to restore to token units and returns the result.<br><br>
<ul>
<li><code>@param startBlock</code> - block number at which to start the query range</li>
<li><code>@param endBlock</code> - block number at which to end the query range</li>
</ul>
</li>
<li><strong>Visibility Specifier</strong> - external</li>
<li><strong>State Mutability Specifier</strong> - view</li>
<li><strong>Returns</strong> - <code>uint256 scheduledAmountToBeRedeemed</code> - total expected redemption amount of scheduled redemptions between the start and end blocks in token units.</li>
<li><strong>Emits</strong> - none</li>
<li><strong>Reverts</strong> - none</li>
</ul></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">â€‹</a></h2>
<ul>
<li>
<span id="Events_AdminUpdated"><strong><code>AdminUpdated(address admin)</code></strong> - Emitted when the admin address is updated.</span>
</li>
<li>
<span id="Events_PendingAdminUpdated"><strong><code>PendingAdminUpdated(address pendingAdmin)</code></strong> - Emitted when the pending admin is updated.</span>
</li>
<li>
<span id="Events_AlchemistUpdated"><strong><code>AlchemistUpdated(address alchemist)</code></strong> - Emitted when the associated alchemist is updated.</span>
</li>
<li>
<span id="Events_PositionCreated"><strong><code>PositionCreated(address indexed creator, uint256 amountStaked, uint256 nftId)</code></strong> - Emitted when a position is created.</span>
</li>
<li>
<span id="Events_PositionClaimed"><strong><code>PositionClaimed(address indexed claimer, uint256 amountClaimed, uint256 amountUnclaimed)</code></strong> - Emitted when a position is claimed.</span>
</li>
<li>
<span id="Events_GraphSizeUpdated"><strong><code>GraphSizeUpdated(uint256 size)</code></strong> - Emitted when the graph size is extended.</span>
</li>
<li>
<span id="Events_DepositCapUpdated"><strong><code>DepositCapUpdated(uint256 cap)</code></strong> - Emitted when the deposit cap is updated.</span>
</li>
<li>
<span id="Events_TransmutationTimeUpdated"><strong><code>TransmutationTimeUpdated(uint256 time)</code></strong> - Emitted when the transmutation time is updated.</span>
</li>
<li>
<span id="Events_TransmutationFeeUpdated"><strong><code>TransmutationFeeUpdated(uint256 fee)</code></strong> - Emitted when the transmutation fee is updated.</span>
</li>
<li>
<span id="Events_ExitFeeUpdated"><strong><code>ExitFeeUpdated(uint256 fee)</code></strong> - Emitted when the early exit fee is updated.</span>
</li>
<li>
<span id="Events_ProtocolFeeReceiverUpdated"><strong><code>ProtocolFeeReceiverUpdated(address receiver)</code></strong> - Emitted when the fee receiver is updated.</span>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/keenanlukeom/alchemix-v3-docs/edit/main/docs/dev/docs/dev/transmuter/transmuter-contract.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/alchemix-v3-docs/dev/alchemist/alchemist-contract"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">AlchemistV3</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/alchemix-v3-docs/dev/myt/myt-contract"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MYTStrategy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a><ul><li><a href="#stakingposition" class="table-of-contents__link toc-highlight">StakingPosition</a></li><li><a href="#transmuterinititializationparams" class="table-of-contents__link toc-highlight">TransmuterInititializationParams</a></li><li><a href="#constants" class="table-of-contents__link toc-highlight">Constants</a></li><li><a href="#public-state" class="table-of-contents__link toc-highlight">Public State</a></li><li><a href="#private-state" class="table-of-contents__link toc-highlight">Private State</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#user-actions" class="table-of-contents__link toc-highlight">User Actions</a></li><li><a href="#admin-actions" class="table-of-contents__link toc-highlight">Admin Actions</a></li><li><a href="#internal-operations" class="table-of-contents__link toc-highlight">Internal Operations</a></li><li><a href="#reading-state" class="table-of-contents__link toc-highlight">Reading State</a></li></ul></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/alchemix-v3-docs/user">User</a></li><li class="footer__item"><a class="footer__link-item" href="/alchemix-v3-docs/dev">Developer</a></li><li class="footer__item"><a class="footer__link-item" href="/alchemix-v3-docs/governance/intro">Governance</a></li><li class="footer__item"><a class="footer__link-item" href="/alchemix-v3-docs/projects">Integrations</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://alchemix.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Live dAPP<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/E9eGjttFCB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/AlchemixFi" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Prev. Twitter)<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://alchemixfi.substack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/alchemix-finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://forum.alchemix.fi/public/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://defillama.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefiLlama<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://snapshot.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Snapshot<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://alchemix.fi/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/alchemix-v3-docs/img/alchemix-full.svg" alt="Alchemix Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="160"><img src="/alchemix-v3-docs/img/alchemix-full.svg" alt="Alchemix Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="160"></a></div><div class="footer__copyright">Copyright Â© 2020 - 2025 Alchemix Labs.
        <br>
        <span style="font-size: 0.6em; opacity: 0.8;">
        All rights reserved, no guarantees given. DeFi tools are not toys. Use at your own risk.
      </span></div></div></div></footer></div>
</body>
</html>